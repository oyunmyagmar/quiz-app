generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model articles {
  id        String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  title     String?
  content   String?
  summary   String?
  userid    String    @db.Uuid
  createdat DateTime? @default(now()) @db.Timestamptz(6)
  updatedat DateTime? @default(now()) @db.Timestamptz(6)
  users     users     @relation(fields: [userid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  quizzes   quizzes[]
}

model courses {
  id     Int      @id @default(autoincrement())
  title  String?  @db.VarChar(50)
  grades grades[]
}

model grades {
  id        Int      @id @default(autoincrement())
  studentid Int
  courseid  Int
  grade     String?  @db.VarChar(5)
  courses   courses  @relation(fields: [courseid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  students  students @relation(fields: [studentid], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model quizzes {
  id        String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  question  String?
  options   String[]
  answer    String?
  articleid String    @db.Uuid
  createdat DateTime? @default(now()) @db.Timestamptz(6)
  updatedat DateTime? @default(now()) @db.Timestamptz(6)
  articles  articles  @relation(fields: [articleid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  scores    scores[]
}

model scores {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  quizid        String    @db.Uuid
  userid        String    @db.Uuid
  score         Int?
  useranswer    String?
  correctanswer String?
  createdat     DateTime? @default(now()) @db.Timestamptz(6)
  updatedat     DateTime? @default(now()) @db.Timestamptz(6)
  quizzes       quizzes   @relation(fields: [quizid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users         users     @relation(fields: [userid], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model students {
  id     Int      @id @default(autoincrement())
  name   String   @db.VarChar(50)
  age    Int?
  gender String?  @db.VarChar(50)
  grades grades[]
}

model users {
  id        String     @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clerkid   String     @unique
  email     String     @unique @db.VarChar(50)
  name      String?    @db.VarChar(50)
  createdat DateTime?  @default(now()) @db.Timestamptz(6)
  updatedat DateTime?  @default(now()) @db.Timestamptz(6)
  articles  articles[]
  scores    scores[]
}

model mocksummary {
  id      String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  text    String?
  summary String?
}
